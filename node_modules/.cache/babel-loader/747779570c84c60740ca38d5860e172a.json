{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._baseUrl = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  _checkPromise(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n  saveNewCard(nameInput, linkInput, likes, currentUser) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: nameInput,\n        link: linkInput,\n        likes: likes,\n        owner: currentUser._id\n      })\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n  getUserData() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n  saveUserData(nameInput, descriptionInput) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: nameInput,\n        about: descriptionInput\n      })\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: \"PUT\",\n        headers: this._headers\n      }).then(res => {\n        return this._checkPromise(res);\n      });\n    } else {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: \"DELETE\",\n        headers: this._headers\n      }).then(res => {\n        return this._checkPromise(res);\n      });\n    }\n  }\n\n  changeAvatar(linkInput) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: linkInput\n      })\n    }).then(res => {\n      return this._checkPromise(res);\n    });\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-40\",\n  headers: {\n    authorization: \"242a0c65-83ea-4aa5-aad5-7b82cd182540\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","config","_baseUrl","baseUrl","_headers","headers","_checkPromise","res","ok","json","Promise","reject","status","getInitialCards","fetch","then","saveNewCard","nameInput","linkInput","likes","currentUser","method","body","JSON","stringify","name","link","owner","_id","getUserData","saveUserData","descriptionInput","about","deleteCard","id","changeLikeCardStatus","isLiked","changeAvatar","avatar","api","authorization"],"sources":["/Users/elvira/Desktop/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(config) {\n    this._baseUrl = config.baseUrl;\n    this._headers = config.headers;\n  }\n  _checkPromise(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkPromise(res);\n    });\n  }\n\n  saveNewCard(nameInput, linkInput, likes, currentUser) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: nameInput,\n        link: linkInput,\n        likes: likes,\n        owner: currentUser._id\n      }),\n    }).then((res) => {\n      return this._checkPromise(res);\n    });\n  }\n\n  getUserData() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkPromise(res);\n    });\n  }\n\n  saveUserData(nameInput, descriptionInput) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: nameInput,\n        about: descriptionInput,\n      }),\n    })\n      .then((res) => {\n        return this._checkPromise(res);\n      })}\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then((res) => {\n        return this._checkPromise(res);\n      })\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => {\n        return this._checkPromise(res);\n      });\n    }\n    else {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n          method: \"DELETE\",\n          headers: this._headers,\n        }).then((res) => {\n          return this._checkPromise(res);\n        });\n      }\n}\n\n  changeAvatar(linkInput) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: linkInput,\n      }),\n    })\n        .then((res) => {\n          return this._checkPromise(res);\n        });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-40\",\n  headers: {\n    authorization: \"242a0c65-83ea-4aa5-aad5-7b82cd182540\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module"}